<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">

	<title>
		Pedagog: Learn advanced courses online
	</title>
	<link rel="stylesheet" href="{% static 'css/reset.css' %}" />
	<link rel="stylesheet" href="{% static 'css/animate.css' %}" />
	<link rel="stylesheet" href="{% static 'css/fullpage.css' %}" />
	<link rel="stylesheet" href="{% static 'css/base.css' %}" />
	<style>
		body, html {
			font-family: museo;
			-webkit-font-smoothing: antialiased;
			  -moz-osx-font-smoothing: grayscale;
		}
.btn {
	color: white;
	padding: 10px;
	padding-left: 20px;
	padding-right: 20px;
	border-radius: 2px;
	font-size: 0.9em;
	box-shadow: 0 0 1px black;
	width: 60%;
	text-align: center;
	margin: 0 auto;
	/*border: 1px solid black;*/
}
a {
	text-decoration: none;
	width: auto;
}
		.anim {
		  -o-transition:.2s;
		  -ms-transition:.2s;
		  -moz-transition:.2s;
		  -webkit-transition:.2s;
		  transition:.2s;
		}

		#fbloginbtn {
background-color: rgba(47, 70, 132, 1);
color: white;
}
#gploginbtn {
background-color: rgba(220, 77, 63, 1);
color: white;
}

.tab {
	 padding-top: 20px;
	 padding-bottom: 20px;
	 background-color: rgba(248,248,248,1);
	 font-size: 1.4em;
	 box-shadow: 0 0 1px black; 
	 color: #8a8a8a;
	 border-collapse: collapse;
}
.selected {
	color: black;
	background-color: white;
box-shadow: none;
border-left: 1px solid rgba(0,0,0,0.1);
}
.tab:hover {
	cursor: pointer;
	}
	.social {
		border-top: 1px solid rgba(0,0,0,0.1);
		text-align: center;
		padding-top: 30px;
		padding-bottom: 15px;

	}
	#tabcontents {
		padding-bottom: 50px;
	}

	form {
	margin-top: 50px;
	text-align: center;
}
input {
	padding: 7px;
	width: 80%;
	font-size: 1.05em;
	font-family: museo;
	display: block;	
	position: relative;
	outline-width: 0px;
	margin: 0 auto;
	border-radius: 0px;
	border: 0px;
	box-shadow: 0 0 1px black;

}
input[type="submit"] {
	padding: 10px;
	padding-left: 20px;
	padding-right: 20px;
	border-radius: 2px;
	font-size: 0.9em;
	width: auto;
	background-color: rgba(168,36,15,1);
	color: white;
	cursor: pointer;
}
input[type="text"] {
	border-radius: 2px;
}
input[type="password"] {
	border-radius: 2px;
}
h1 {
	font-size: 2.3em;
	margin-bottom: 50px;
}
button {
	display: block;
	padding: 15px;
}
td {
	text-align: center;
}
#formtable {
	background-color: rgba(255,255,255,1);
	width: 45%;
	max-width: 45%;
	box-shadow: 0 0 1px black;
}
	</style>
</head>
<body>
	

	<table id="formtable">
		<tr> 
			<td id="signup" class="tab anim" width="50%">
				Sign Up
			</td>
			<td id="login" class="tab anim selected" width="50%">
				Log in
			</td>
		</tr>
		<tr>
			<td width="100%" colspan="2" id="tabcontents">
				
			</td>
		</tr>
		<tr>
			<td width="50%" class="social">
			             <a id="fbloginbtn" href="{% url 'social:begin' 'facebook' %}?next={{ request.path }}">
		                    	<div class="btn" id="fbloginbtn">Login with Facebook</div></a>
		    </td>
		    <td width="50%" class="social">

		                    <a id="gploginbtn" href="{% url 'social:begin' 'google-oauth2' %}?next={{ request.path }}">
		                    	<div class="btn" id="gploginbtn">Login with Google</div></a>
		    </td>
		</tr>
	</table>


</body>

<script src="{% static 'js/jquery.js' %}"></script>
<script src="{% static 'js/fullpage.js' %}"></script>
<script>
$(document).ready(function() {
$('form').submit(function(event) {
	event.preventDefault();
	console.log('form submitted;');
});

  if (window.location.hash == '#signup') {
    $('#signup').click();
  }
  else {
$('#login').click();

  }
});
$('.tab').click(function() {
	$('.tab').removeClass('selected');
	$(this).addClass('selected');

	var selected = this.id;
	$('#tabcontents').fadeOut(200, function() {

		if(selected == "login") {
		$('#tabcontents').html("<form method='post' onsubmit='submitForm(1); return false;'>\
			<input type='text' name='email' id='email' placeholder='Email Address' /><br />\
			<input type='password' name='password' id='password' placeholder='Password' /><br /><br />\
			<input type='submit' value='Log in' />\
		</form>");
	}
	else if (selected == "signup") {
$('#tabcontents').html("<form method='post' onsubmit='submitForm(2); return false;'>\
		<input type='text' id='first_name' style='margin-right: 10px; display: inline; width: 36%;' placeholder='First name' /> <input type='text' id='last_name' style='margin-left: 10px; display: inline; width: 36%;' placeholder='Last name' /><br /><br />\
			<input type='text' id='email' placeholder='Email Address' /><br />\
		<input type='text' id='username' placeholder='Username' /><br />\
			<input type='password' id='password' placeholder='Password' /><br /><br />\
			<input type='submit' value='Create new account' />\
		</form>");
	}
	});
	
	$('#tabcontents').fadeIn(200);
});

function submitForm(which) {
	var data = {};
	var result;
	if (which == 1) {
		data = {
			email: $('#email').val(),
			password: $('#password').val()
		}
		result = ajaxCall(API_login, data, 'POST', false);
	parseThis(result, 1);

	}
	else if (which == 2) {
		data = {
			email: $('#email').val(),
			password: $('#password').val(),
			username: $('#username').val(),
			first_name: $('#first_name').val(),
			last_name: $('#last_name').val()

		}
		result = ajaxCall(API_signup, data, 'POST', false);
		// console.log(data);
	parseThis(result, 2);

	}
	return false;
	// console.log(result);
}
</script>
</html>